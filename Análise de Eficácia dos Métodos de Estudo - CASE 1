{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "56c845df",
   "metadata": {
    "_cell_guid": "b1076dfc-b9ad-4769-8c92-a6c4dae69d19",
    "_uuid": "8f2839f25d086af736a60e9eeb907d3b93b6e0e5",
    "execution": {
     "iopub.execute_input": "2024-07-29T17:39:32.290594Z",
     "iopub.status.busy": "2024-07-29T17:39:32.290186Z",
     "iopub.status.idle": "2024-07-29T17:39:32.353224Z",
     "shell.execute_reply": "2024-07-29T17:39:32.352027Z",
     "shell.execute_reply.started": "2024-07-29T17:39:32.290565Z"
    },
    "papermill": {
     "duration": 0.007485,
     "end_time": "2024-07-30T16:59:54.498327",
     "exception": false,
     "start_time": "2024-07-30T16:59:54.490842",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**1. Coleta de Dados**\n",
    "\n",
    "**Nesta etapa, carregamos os dados da planilha que contém as respostas sobre os hábitos de estudo. Removemos colunas desnecessárias (como nomes e emails) para focar nas informações relevantes para o modelo.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "73140bfa",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T16:59:54.516980Z",
     "iopub.status.busy": "2024-07-30T16:59:54.516518Z",
     "iopub.status.idle": "2024-07-30T16:59:56.203692Z",
     "shell.execute_reply": "2024-07-30T16:59:56.202146Z"
    },
    "papermill": {
     "duration": 1.701245,
     "end_time": "2024-07-30T16:59:56.207758",
     "exception": false,
     "start_time": "2024-07-30T16:59:54.506513",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "  Quantas horas por dia você dedica aos estudos?  \\\n",
      "0                                Menos de 1 hora   \n",
      "1                                      1-2 horas   \n",
      "2                                      3-4 horas   \n",
      "3                                Menos de 1 hora   \n",
      "4                                      2-3 horas   \n",
      "\n",
      "  Em que horário do dia você prefere estudar?    Onde você costuma estudar?   \\\n",
      "0                                        Manhã  Em casa (quarto, sala, etc.)   \n",
      "1                                        Noite  Em casa (quarto, sala, etc.)   \n",
      "2                                        Noite  Em casa (quarto, sala, etc.)   \n",
      "3                                        Tarde  Em casa (quarto, sala, etc.)   \n",
      "4                                        Noite  Em casa (quarto, sala, etc.)   \n",
      "\n",
      "  Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam)   \\\n",
      "0  Leituras de livros e artigos, Aulas online, I....                                                   \n",
      "1  Anotações e resumos, Grupos de estudo, Aulas o...                                                   \n",
      "2  Leituras de livros e artigos, Anotações e resumos                                                   \n",
      "3              Anotações e resumos, Grupos de estudo                                                   \n",
      "4  Leituras de livros e artigos, Anotações e resu...                                                   \n",
      "\n",
      "  Você costuma fazer pausas durante seus períodos de estudo?  \\\n",
      "0                                                Não           \n",
      "1                                                Não           \n",
      "2                                                Sim           \n",
      "3                                                Sim           \n",
      "4                                                Sim           \n",
      "\n",
      "  Se sim, com que frequência você faz pausas?   \\\n",
      "0                              Não faço pausas   \n",
      "1                                     Nao faço   \n",
      "2                               A cada 2 horas   \n",
      "3                            A cada 30 minutos   \n",
      "4                            A cada 30 minutos   \n",
      "\n",
      "  O que mais motiva você a estudar? (Marque todas as opções que se aplicam)   \\\n",
      "0  Interesse pelo assunto, Metas e objetivos acad...                           \n",
      "1                                           Trabalho                           \n",
      "2  Interesse pelo assunto, Metas e objetivos acad...                           \n",
      "3                             Interesse pelo assunto                           \n",
      "4  Interesse pelo assunto, Metas e objetivos acad...                           \n",
      "\n",
      "  O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam)   \\\n",
      "0                                              Jogos                                     \n",
      "1                                      Redes sociais                                     \n",
      "2                                      Redes sociais                                     \n",
      "3                        Redes sociais, TV/Streaming                                     \n",
      "4  Redes sociais, TV/Streaming, Barulhos externos...                                     \n",
      "\n",
      "  Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam)   \\\n",
      "0  Sites educacionais (Artigos) / Alura - Udemy -...                                  \n",
      "1  Sites educacionais (Artigos) / Alura - Udemy -...                                  \n",
      "2  Livros didáticos, Vídeos educativos (YouTube, ...                                  \n",
      "3  Livros didáticos, Vídeos educativos (YouTube, ...                                  \n",
      "4  Livros didáticos, Sites educacionais (Artigos)...                                  \n",
      "\n",
      "  Como você avalia a eficácia dos seus métodos de estudo?   \\\n",
      "0                                             Neutro         \n",
      "1                                       Muito eficaz         \n",
      "2                                       Muito eficaz         \n",
      "3                                             Neutro         \n",
      "4                                             Eficaz         \n",
      "\n",
      "  Você sente que está melhorando seus resultados acadêmicos com os métodos de estudo atuais?   \\\n",
      "0                                  Não tenho certeza                                            \n",
      "1                                                Sim                                            \n",
      "2                                                Sim                                            \n",
      "3                                  Não tenho certeza                                            \n",
      "4                                                Sim                                            \n",
      "\n",
      "  Você gostaria de compartilhar alguma técnica ou método de estudo que considera especialmente útil? (Resposta aberta)   \n",
      "0                                                NaN                                                                     \n",
      "1  Utilizar gabaritos e respostas de provas como ...                                                                     \n",
      "2                                                NaN                                                                     \n",
      "3                                                NaN                                                                     \n",
      "4                                                NaN                                                                     \n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "# Carregar o arquivo Excel com os dados\n",
    "file_path = '/kaggle/input/resposta-de-habitos-de-estudo/Respostas de habitos.xlsx'\n",
    "data = pd.read_excel(file_path)\n",
    "\n",
    "# Remover colunas desnecessárias\n",
    "data = data.drop(columns=['Carimbo de data/hora', 'Nome', 'Email', 'Endereço de e-mail', 'Nome.1'])\n",
    "\n",
    "# Visualizar as primeiras linhas dos dados\n",
    "print(data.head())\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8c2048af",
   "metadata": {
    "papermill": {
     "duration": 0.006779,
     "end_time": "2024-07-30T16:59:56.221588",
     "exception": false,
     "start_time": "2024-07-30T16:59:56.214809",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**2. Preprocessamento**\n",
    "\n",
    "**Nesta etapa, preenchemos valores nulos nas colunas de texto aberto e codificamos as variáveis categóricas para que possam ser utilizadas pelo modelo de aprendizado de máquina.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "a88d8a1b",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T16:59:56.237797Z",
     "iopub.status.busy": "2024-07-30T16:59:56.237175Z",
     "iopub.status.idle": "2024-07-30T16:59:57.759276Z",
     "shell.execute_reply": "2024-07-30T16:59:57.756963Z"
    },
    "papermill": {
     "duration": 1.533789,
     "end_time": "2024-07-30T16:59:57.762303",
     "exception": false,
     "start_time": "2024-07-30T16:59:56.228514",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "   Quantas horas por dia você dedica aos estudos?  \\\n",
      "0                                               4   \n",
      "1                                               0   \n",
      "2                                               2   \n",
      "3                                               4   \n",
      "4                                               1   \n",
      "\n",
      "   Em que horário do dia você prefere estudar?   Onde você costuma estudar?   \\\n",
      "0                                             1                            1   \n",
      "1                                             2                            1   \n",
      "2                                             2                            1   \n",
      "3                                             3                            1   \n",
      "4                                             2                            1   \n",
      "\n",
      "   Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                 30                                                    \n",
      "1                                                  5                                                    \n",
      "2                                                 13                                                    \n",
      "3                                                  4                                                    \n",
      "4                                                 26                                                    \n",
      "\n",
      "   Você costuma fazer pausas durante seus períodos de estudo?  \\\n",
      "0                                                  0            \n",
      "1                                                  0            \n",
      "2                                                  1            \n",
      "3                                                  1            \n",
      "4                                                  1            \n",
      "\n",
      "   Se sim, com que frequência você faz pausas?   \\\n",
      "0                                            11   \n",
      "1                                             9   \n",
      "2                                             4   \n",
      "3                                             6   \n",
      "4                                             6   \n",
      "\n",
      "   O que mais motiva você a estudar? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                  5                            \n",
      "1                                                 20                            \n",
      "2                                                  5                            \n",
      "3                                                  2                            \n",
      "4                                                  5                            \n",
      "\n",
      "   O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                  4                                      \n",
      "1                                                  5                                      \n",
      "2                                                  5                                      \n",
      "3                                                 12                                      \n",
      "4                                                 13                                      \n",
      "\n",
      "   Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                 18                                   \n",
      "1                                                 17                                   \n",
      "2                                                 12                                   \n",
      "3                                                 12                                   \n",
      "4                                                  8                                   \n",
      "\n",
      "   Como você avalia a eficácia dos seus métodos de estudo?   \\\n",
      "0                                                  3          \n",
      "1                                                  2          \n",
      "2                                                  2          \n",
      "3                                                  3          \n",
      "4                                                  0          \n",
      "\n",
      "   Você sente que está melhorando seus resultados acadêmicos com os métodos de estudo atuais?   \\\n",
      "0                                                  1                                             \n",
      "1                                                  2                                             \n",
      "2                                                  2                                             \n",
      "3                                                  1                                             \n",
      "4                                                  2                                             \n",
      "\n",
      "   Você gostaria de compartilhar alguma técnica ou método de estudo que considera especialmente útil? (Resposta aberta)   \n",
      "0                                                  0                                                                      \n",
      "1                                                 20                                                                      \n",
      "2                                                  0                                                                      \n",
      "3                                                  0                                                                      \n",
      "4                                                  0                                                                      \n"
     ]
    }
   ],
   "source": [
    "from sklearn.preprocessing import LabelEncoder\n",
    "\n",
    "# Preencher valores NaN nas colunas de texto aberto com uma string vazia\n",
    "data = data.fillna('')\n",
    "\n",
    "# Codificar as variáveis categóricas\n",
    "label_encoders = {}\n",
    "for column in data.columns:\n",
    "    if data[column].dtype == 'object':\n",
    "        label_encoders[column] = LabelEncoder()\n",
    "        data[column] = label_encoders[column].fit_transform(data[column])\n",
    "\n",
    "# Visualizar os dados após a codificação\n",
    "print(data.head())\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "7942334f",
   "metadata": {
    "papermill": {
     "duration": 0.007123,
     "end_time": "2024-07-30T16:59:57.777167",
     "exception": false,
     "start_time": "2024-07-30T16:59:57.770044",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**3. Separação em Conjuntos de Treinamento e Teste**\n",
    "\n",
    "**Dividimos os dados em conjuntos de treinamento e teste para que possamos treinar o modelo em um conjunto de dados e avaliar seu desempenho em outro conjunto.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "eb74acc9",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T16:59:57.797993Z",
     "iopub.status.busy": "2024-07-30T16:59:57.796912Z",
     "iopub.status.idle": "2024-07-30T16:59:57.947875Z",
     "shell.execute_reply": "2024-07-30T16:59:57.945925Z"
    },
    "papermill": {
     "duration": 0.167497,
     "end_time": "2024-07-30T16:59:57.952045",
     "exception": false,
     "start_time": "2024-07-30T16:59:57.784548",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Tamanho do conjunto de treinamento: 52\n",
      "Tamanho do conjunto de teste: 13\n"
     ]
    }
   ],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "# Nome exato da coluna alvo\n",
    "target_column = 'Como você avalia a eficácia dos seus métodos de estudo? '\n",
    "\n",
    "# Separar os dados em recursos (X) e alvo (y)\n",
    "X = data.drop(columns=[target_column])\n",
    "y = data[target_column]\n",
    "\n",
    "# Dividir os dados em conjuntos de treinamento e teste\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n",
    "\n",
    "# Visualizar os tamanhos dos conjuntos\n",
    "print(f'Tamanho do conjunto de treinamento: {X_train.shape[0]}')\n",
    "print(f'Tamanho do conjunto de teste: {X_test.shape[0]}')\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "cda3a63b",
   "metadata": {
    "papermill": {
     "duration": 0.008392,
     "end_time": "2024-07-30T16:59:57.968396",
     "exception": false,
     "start_time": "2024-07-30T16:59:57.960004",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**4. Construção e Treinamento do Modelo**\n",
    "\n",
    "**Construímos um modelo de rede neural simples usando TensorFlow e Keras, e o treinamos com os dados de treinamento.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "66a34fc5",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T16:59:57.987114Z",
     "iopub.status.busy": "2024-07-30T16:59:57.986610Z",
     "iopub.status.idle": "2024-07-30T17:00:23.467211Z",
     "shell.execute_reply": "2024-07-30T17:00:23.464842Z"
    },
    "papermill": {
     "duration": 25.494784,
     "end_time": "2024-07-30T17:00:23.470451",
     "exception": false,
     "start_time": "2024-07-30T16:59:57.975667",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "2024-07-30 17:00:00.719941: E external/local_xla/xla/stream_executor/cuda/cuda_dnn.cc:9261] Unable to register cuDNN factory: Attempting to register factory for plugin cuDNN when one has already been registered\n",
      "2024-07-30 17:00:00.720165: E external/local_xla/xla/stream_executor/cuda/cuda_fft.cc:607] Unable to register cuFFT factory: Attempting to register factory for plugin cuFFT when one has already been registered\n",
      "2024-07-30 17:00:00.929207: E external/local_xla/xla/stream_executor/cuda/cuda_blas.cc:1515] Unable to register cuBLAS factory: Attempting to register factory for plugin cuBLAS when one has already been registered\n",
      "/opt/conda/lib/python3.10/site-packages/keras/src/layers/core/dense.py:87: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.\n",
      "  super().__init__(activity_regularizer=activity_regularizer, **kwargs)\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Epoch 1/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m2s\u001b[0m 65ms/step - loss: 5.3447 - mae: 1.8397 - val_loss: 4.3088 - val_mae: 1.7307\n",
      "Epoch 2/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 2.6873 - mae: 1.3694 - val_loss: 4.3807 - val_mae: 1.7504\n",
      "Epoch 3/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 13ms/step - loss: 2.2658 - mae: 1.1860 - val_loss: 5.0743 - val_mae: 1.8850\n",
      "Epoch 4/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 2.5168 - mae: 1.2405 - val_loss: 3.5845 - val_mae: 1.6295\n",
      "Epoch 5/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 2.0124 - mae: 1.2378 - val_loss: 3.2347 - val_mae: 1.5535\n",
      "Epoch 6/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 1.7148 - mae: 1.1517 - val_loss: 3.1472 - val_mae: 1.5475\n",
      "Epoch 7/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 1.8864 - mae: 1.2031 - val_loss: 2.8674 - val_mae: 1.5007\n",
      "Epoch 8/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.7080 - mae: 1.1318 - val_loss: 2.8355 - val_mae: 1.5339\n",
      "Epoch 9/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 1.4830 - mae: 1.1004 - val_loss: 3.0690 - val_mae: 1.5783\n",
      "Epoch 10/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.4919 - mae: 1.0647 - val_loss: 2.8358 - val_mae: 1.5768\n",
      "Epoch 11/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.5399 - mae: 1.0810 - val_loss: 2.8247 - val_mae: 1.5738\n",
      "Epoch 12/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.5874 - mae: 1.1005 - val_loss: 2.8628 - val_mae: 1.5526\n",
      "Epoch 13/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 1.6600 - mae: 1.1423 - val_loss: 2.9260 - val_mae: 1.5847\n",
      "Epoch 14/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.1999 - mae: 0.9492 - val_loss: 3.4367 - val_mae: 1.6525\n",
      "Epoch 15/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.2274 - mae: 0.9464 - val_loss: 4.0855 - val_mae: 1.7445\n",
      "Epoch 16/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 14ms/step - loss: 1.1454 - mae: 0.8690 - val_loss: 3.4700 - val_mae: 1.6869\n",
      "Epoch 17/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 1.2311 - mae: 0.9440 - val_loss: 3.4456 - val_mae: 1.6610\n",
      "Epoch 18/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 1.1038 - mae: 0.8999 - val_loss: 3.9076 - val_mae: 1.7452\n",
      "Epoch 19/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 0.9143 - mae: 0.8297 - val_loss: 4.2158 - val_mae: 1.8094\n",
      "Epoch 20/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 0.9814 - mae: 0.8157 - val_loss: 4.1852 - val_mae: 1.8105\n",
      "Epoch 21/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 1.0777 - mae: 0.8966 - val_loss: 3.6334 - val_mae: 1.6757\n",
      "Epoch 22/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.2983 - mae: 0.9752 - val_loss: 3.8689 - val_mae: 1.7517\n",
      "Epoch 23/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.9277 - mae: 0.8348 - val_loss: 4.0174 - val_mae: 1.7777\n",
      "Epoch 24/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 15ms/step - loss: 0.9873 - mae: 0.8292 - val_loss: 3.7965 - val_mae: 1.7411\n",
      "Epoch 25/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.8680 - mae: 0.7794 - val_loss: 4.0056 - val_mae: 1.7868\n",
      "Epoch 26/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 1.0060 - mae: 0.8601 - val_loss: 4.1005 - val_mae: 1.8097\n",
      "Epoch 27/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 0.6541 - mae: 0.6415 - val_loss: 4.1631 - val_mae: 1.8280\n",
      "Epoch 28/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.7528 - mae: 0.6912 - val_loss: 4.1034 - val_mae: 1.8269\n",
      "Epoch 29/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.7041 - mae: 0.7015 - val_loss: 3.8378 - val_mae: 1.7600\n",
      "Epoch 30/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 0.8944 - mae: 0.7957 - val_loss: 3.7409 - val_mae: 1.7442\n",
      "Epoch 31/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.8558 - mae: 0.7731 - val_loss: 3.7419 - val_mae: 1.7462\n",
      "Epoch 32/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 0.7243 - mae: 0.7055 - val_loss: 3.6564 - val_mae: 1.7615\n",
      "Epoch 33/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 12ms/step - loss: 0.8026 - mae: 0.7754 - val_loss: 3.5912 - val_mae: 1.7840\n",
      "Epoch 34/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.9366 - mae: 0.8278 - val_loss: 3.9093 - val_mae: 1.8640\n",
      "Epoch 35/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.8190 - mae: 0.7621 - val_loss: 4.6246 - val_mae: 1.9329\n",
      "Epoch 36/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.8172 - mae: 0.6965 - val_loss: 4.5375 - val_mae: 1.9441\n",
      "Epoch 37/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 0.7362 - mae: 0.7044 - val_loss: 4.3303 - val_mae: 1.9214\n",
      "Epoch 38/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 12ms/step - loss: 0.6527 - mae: 0.6982 - val_loss: 4.8188 - val_mae: 1.9638\n",
      "Epoch 39/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 12ms/step - loss: 0.6920 - mae: 0.6919 - val_loss: 4.5382 - val_mae: 1.8949\n",
      "Epoch 40/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 13ms/step - loss: 0.6478 - mae: 0.6719 - val_loss: 4.5023 - val_mae: 1.9088\n",
      "Epoch 41/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 15ms/step - loss: 0.6429 - mae: 0.6718 - val_loss: 4.4970 - val_mae: 1.9416\n",
      "Epoch 42/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.4927 - mae: 0.5697 - val_loss: 4.4355 - val_mae: 1.9410\n",
      "Epoch 43/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.4543 - mae: 0.5565 - val_loss: 4.1006 - val_mae: 1.9106\n",
      "Epoch 44/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 12ms/step - loss: 0.5378 - mae: 0.6390 - val_loss: 4.2132 - val_mae: 1.9295\n",
      "Epoch 45/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 10ms/step - loss: 0.5817 - mae: 0.6601 - val_loss: 4.3813 - val_mae: 1.9485\n",
      "Epoch 46/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 12ms/step - loss: 0.5740 - mae: 0.6574 - val_loss: 4.9894 - val_mae: 2.0075\n",
      "Epoch 47/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 12ms/step - loss: 0.5414 - mae: 0.5925 - val_loss: 4.9363 - val_mae: 2.0303\n",
      "Epoch 48/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 12ms/step - loss: 0.5235 - mae: 0.6241 - val_loss: 4.3323 - val_mae: 1.9558\n",
      "Epoch 49/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.4293 - mae: 0.5205 - val_loss: 4.6374 - val_mae: 2.0035\n",
      "Epoch 50/50\n",
      "\u001b[1m5/5\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 11ms/step - loss: 0.6121 - mae: 0.6365 - val_loss: 5.1115 - val_mae: 2.0520\n",
      "\u001b[1m1/1\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 32ms/step - loss: 3.8866 - mae: 1.6706\n",
      "Mean Absolute Error: 1.6705950498580933\n"
     ]
    }
   ],
   "source": [
    "import tensorflow as tf\n",
    "from tensorflow.keras.models import Sequential\n",
    "from tensorflow.keras.layers import Dense\n",
    "\n",
    "# Construir o modelo\n",
    "model = Sequential()\n",
    "model.add(Dense(64, input_dim=X_train.shape[1], activation='relu'))\n",
    "model.add(Dense(32, activation='relu'))\n",
    "model.add(Dense(1, activation='linear'))\n",
    "\n",
    "# Compilar o modelo\n",
    "model.compile(optimizer='adam', loss='mse', metrics=['mae'])\n",
    "\n",
    "# Treinar o modelo\n",
    "history = model.fit(X_train, y_train, epochs=50, batch_size=10, validation_split=0.2)\n",
    "\n",
    "# Avaliar o modelo\n",
    "loss, mae = model.evaluate(X_test, y_test)\n",
    "print(f'Mean Absolute Error: {mae}')\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ee639d0d",
   "metadata": {
    "papermill": {
     "duration": 0.021635,
     "end_time": "2024-07-30T17:00:23.514081",
     "exception": false,
     "start_time": "2024-07-30T17:00:23.492446",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "5. Salvamento dos Codificadores e do Modelo\n",
    "\n",
    "**Salvamos os LabelEncoders e o modelo treinado para que possamos usá-los posteriormente para transformar novos dados e fazer previsões.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "c1584824",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T17:00:23.562076Z",
     "iopub.status.busy": "2024-07-30T17:00:23.561311Z",
     "iopub.status.idle": "2024-07-30T17:00:23.613396Z",
     "shell.execute_reply": "2024-07-30T17:00:23.611300Z"
    },
    "papermill": {
     "duration": 0.08112,
     "end_time": "2024-07-30T17:00:23.616977",
     "exception": false,
     "start_time": "2024-07-30T17:00:23.535857",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "import pickle\n",
    "\n",
    "# Salvar os codificadores\n",
    "with open('label_encoders.pkl', 'wb') as f:\n",
    "    pickle.dump(label_encoders, f)\n",
    "\n",
    "# Salvar o modelo treinado\n",
    "model.save('study_habits_model.h5')\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "91df1eca",
   "metadata": {
    "papermill": {
     "duration": 0.023905,
     "end_time": "2024-07-30T17:00:23.663731",
     "exception": false,
     "start_time": "2024-07-30T17:00:23.639826",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**6. Fazendo Previsões com Novos Dados**\n",
    "\n",
    "**Usamos o modelo treinado para prever a eficácia dos métodos de estudo para novos exemplos de respostas. Transformamos os dados categóricos dos novos exemplos usando os LabelEncoders salvos e fazemos previsões.**\n",
    "\n",
    "*Exemplo 1: Estuda 3-4 horas por dia à tarde em casa, com leituras de livros e artigos, pausas ocasionais.*\n",
    "\n",
    "*Exemplo 2: Estuda menos de 1 hora por dia de manhã na biblioteca, com anotações e resumos, sem pausas.*\n",
    "\n",
    "*Exemplo 3: Estuda 2-3 horas por dia à noite em um café, com aulas online, pausas frequentes.*\n",
    "\n",
    "*Exemplo 4: Estuda 1-2 horas por dia à tarde na biblioteca, com gravações de aula, raramente faz pausas.*\n",
    "\n",
    "*Exemplo 5: Estuda 4-5 horas por dia de manhã em casa, com leituras de livros e artigos, pausas regulares.*\n",
    "\n",
    "*Exemplo 6: Estuda 1-2 horas por dia à noite em um café, com resumos escritos, pausas ocasionais.*\n",
    "\n",
    "*Exemplo 7: Estuda 2-3 horas por dia de manhã em casa, com aulas online, pausas frequentes.*\n",
    "\n",
    "*Exemplo 8: Estuda 3-4 horas por dia à tarde na biblioteca, com leituras de livros e artigos, pausas regulares.*\n",
    "\n",
    "*Exemplo 9: Estuda 2-3 horas por dia à noite em casa, com gravações de aula, raramente faz pausas.*\n",
    "\n",
    "*Exemplo 10: Estuda 1-2 horas por dia de manhã em um café, com resumos escritos, pausas ocasionais.*\n",
    "\n",
    "*Exemplo 11: Estuda 4-5 horas por dia à tarde na biblioteca, com leituras de livros e artigos, pausas frequentes.*\n",
    "\n",
    "*Exemplo 12: Estuda 3-4 horas por dia de manhã em casa, com aulas online, pausas regulares.*\n",
    "\n",
    "**Cada exemplo detalha a quantidade de horas de estudo, o horário preferido para estudar, o local de estudo, os métodos de estudo mais utilizados, a frequência de pausas e as principais motivações e distrações.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "4e93c569",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T17:00:23.711921Z",
     "iopub.status.busy": "2024-07-30T17:00:23.711451Z",
     "iopub.status.idle": "2024-07-30T17:00:23.977714Z",
     "shell.execute_reply": "2024-07-30T17:00:23.975614Z"
    },
    "papermill": {
     "duration": 0.294203,
     "end_time": "2024-07-30T17:00:23.980972",
     "exception": false,
     "start_time": "2024-07-30T17:00:23.686769",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\u001b[1m1/1\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 74ms/step\n",
      "    Quantas horas por dia você dedica aos estudos?  \\\n",
      "0                                                2   \n",
      "1                                                4   \n",
      "2                                                1   \n",
      "3                                                0   \n",
      "4                                                5   \n",
      "5                                                0   \n",
      "6                                                1   \n",
      "7                                                2   \n",
      "8                                                1   \n",
      "9                                                0   \n",
      "10                                               5   \n",
      "11                                               2   \n",
      "\n",
      "    Em que horário do dia você prefere estudar?   Onde você costuma estudar?   \\\n",
      "0                                              3                            1   \n",
      "1                                              1                            0   \n",
      "2                                              2                            6   \n",
      "3                                              3                            0   \n",
      "4                                              1                            1   \n",
      "5                                              2                            6   \n",
      "6                                              1                            1   \n",
      "7                                              3                            0   \n",
      "8                                              2                            1   \n",
      "9                                              1                            6   \n",
      "10                                             3                            0   \n",
      "11                                             1                            1   \n",
      "\n",
      "    Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                  12                                                    \n",
      "1                                                  32                                                    \n",
      "2                                                   9                                                    \n",
      "3                                                  32                                                    \n",
      "4                                                  12                                                    \n",
      "5                                                  32                                                    \n",
      "6                                                   9                                                    \n",
      "7                                                  12                                                    \n",
      "8                                                  32                                                    \n",
      "9                                                  32                                                    \n",
      "10                                                 12                                                    \n",
      "11                                                  9                                                    \n",
      "\n",
      "    Você costuma fazer pausas durante seus períodos de estudo?  \\\n",
      "0                                                   1            \n",
      "1                                                   0            \n",
      "2                                                   1            \n",
      "3                                                   0            \n",
      "4                                                   1            \n",
      "5                                                   1            \n",
      "6                                                   1            \n",
      "7                                                   1            \n",
      "8                                                   0            \n",
      "9                                                   1            \n",
      "10                                                  1            \n",
      "11                                                  1            \n",
      "\n",
      "    Se sim, com que frequência você faz pausas?   \\\n",
      "0                                             18   \n",
      "1                                              0   \n",
      "2                                             18   \n",
      "3                                             18   \n",
      "4                                             18   \n",
      "5                                             18   \n",
      "6                                             18   \n",
      "7                                             18   \n",
      "8                                             18   \n",
      "9                                             18   \n",
      "10                                            18   \n",
      "11                                            18   \n",
      "\n",
      "    O que mais motiva você a estudar? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                  23                            \n",
      "1                                                  23                            \n",
      "2                                                  23                            \n",
      "3                                                  23                            \n",
      "4                                                  23                            \n",
      "5                                                  23                            \n",
      "6                                                  23                            \n",
      "7                                                  23                            \n",
      "8                                                  23                            \n",
      "9                                                  23                            \n",
      "10                                                 23                            \n",
      "11                                                 23                            \n",
      "\n",
      "    O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                   0                                      \n",
      "1                                                  18                                      \n",
      "2                                                  18                                      \n",
      "3                                                  18                                      \n",
      "4                                                   5                                      \n",
      "5                                                  18                                      \n",
      "6                                                  18                                      \n",
      "7                                                   5                                      \n",
      "8                                                   0                                      \n",
      "9                                                  18                                      \n",
      "10                                                  5                                      \n",
      "11                                                 18                                      \n",
      "\n",
      "    Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam)   \\\n",
      "0                                                  22                                   \n",
      "1                                                  19                                   \n",
      "2                                                  22                                   \n",
      "3                                                  22                                   \n",
      "4                                                  22                                   \n",
      "5                                                  22                                   \n",
      "6                                                  22                                   \n",
      "7                                                  22                                   \n",
      "8                                                  22                                   \n",
      "9                                                  22                                   \n",
      "10                                                 22                                   \n",
      "11                                                 22                                   \n",
      "\n",
      "    Você sente que está melhorando seus resultados acadêmicos com os métodos de estudo atuais?   \\\n",
      "0                                                   3                                             \n",
      "1                                                   3                                             \n",
      "2                                                   3                                             \n",
      "3                                                   3                                             \n",
      "4                                                   3                                             \n",
      "5                                                   3                                             \n",
      "6                                                   3                                             \n",
      "7                                                   3                                             \n",
      "8                                                   3                                             \n",
      "9                                                   3                                             \n",
      "10                                                  3                                             \n",
      "11                                                  3                                             \n",
      "\n",
      "    Você gostaria de compartilhar alguma técnica ou método de estudo que considera especialmente útil? (Resposta aberta)   \\\n",
      "0                                                  24                                                                       \n",
      "1                                                  24                                                                       \n",
      "2                                                  24                                                                       \n",
      "3                                                  24                                                                       \n",
      "4                                                  24                                                                       \n",
      "5                                                  24                                                                       \n",
      "6                                                  24                                                                       \n",
      "7                                                  24                                                                       \n",
      "8                                                  24                                                                       \n",
      "9                                                  24                                                                       \n",
      "10                                                 24                                                                       \n",
      "11                                                 24                                                                       \n",
      "\n",
      "    Previsão de eficácia dos métodos de estudo  \n",
      "0                                     3.071174  \n",
      "1                                     2.819389  \n",
      "2                                     1.181003  \n",
      "3                                     3.603280  \n",
      "4                                     2.019446  \n",
      "5                                     2.516988  \n",
      "6                                     1.946358  \n",
      "7                                     2.717467  \n",
      "8                                     4.480737  \n",
      "9                                     2.490571  \n",
      "10                                    2.365221  \n",
      "11                                    1.848797  \n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import tensorflow as tf\n",
    "import pickle\n",
    "\n",
    "# Carregar os codificadores e o modelo treinado\n",
    "with open('label_encoders.pkl', 'rb') as f:\n",
    "    label_encoders = pickle.load(f)\n",
    "\n",
    "custom_objects = {'mean_squared_error': tf.keras.losses.MeanSquaredError(), 'mse': tf.keras.losses.MeanSquaredError()}\n",
    "model = tf.keras.models.load_model('study_habits_model.h5', custom_objects=custom_objects)\n",
    "\n",
    "# Exemplo de novas perguntas (12 exemplos)\n",
    "new_data_list = [\n",
    "    # Exemplo 1\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '3-4 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Tarde',\n",
    "        'Onde você costuma estudar? ': 'Em casa (quarto, sala, etc.)',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Leituras de livros e artigos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Ocasionalmente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Melhorar notas',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Barulhos externos',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Sites educacionais'\n",
    "    },\n",
    "    # Exemplo 2\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': 'Menos de 1 hora',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Manhã',\n",
    "        'Onde você costuma estudar? ': 'Biblioteca',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Anotações e resumos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Não',\n",
    "        'Se sim, com que frequência você faz pausas? ': '',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Conseguir um emprego',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Família',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Vídeos educativos (YouTube, etc.)'\n",
    "    },\n",
    "    # Exemplo 3\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '2-3 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Noite',\n",
    "        'Onde você costuma estudar? ': 'Café',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Aulas online',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Frequentemente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Interesse pessoal',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Internet',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Livros didáticos'\n",
    "    },\n",
    "    # Exemplo 4\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '1-2 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Tarde',\n",
    "        'Onde você costuma estudar? ': 'Biblioteca',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Gravações de aula',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Não',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Raramente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Paixão pela matéria',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Mídias sociais',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Simulações'\n",
    "    },\n",
    "    # Exemplo 5\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '4-5 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Manhã',\n",
    "        'Onde você costuma estudar? ': 'Em casa (quarto, sala, etc.)',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Leituras de livros e artigos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Regularmente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Melhorar notas',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Redes sociais',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Aulas online'\n",
    "    },\n",
    "    # Exemplo 6\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '1-2 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Noite',\n",
    "        'Onde você costuma estudar? ': 'Café',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Resumos escritos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Ocasionalmente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Paixão pela matéria',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Internet',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Sites educacionais'\n",
    "    },\n",
    "    # Exemplo 7\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '2-3 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Manhã',\n",
    "        'Onde você costuma estudar? ': 'Em casa (quarto, sala, etc.)',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Aulas online',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Frequentemente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Melhorar notas',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Família',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Livros didáticos'\n",
    "    },\n",
    "    # Exemplo 8\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '3-4 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Tarde',\n",
    "        'Onde você costuma estudar? ': 'Biblioteca',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Leituras de livros e artigos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Regularmente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Conseguir um emprego',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Redes sociais',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Simulações'\n",
    "    },\n",
    "    # Exemplo 9\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '2-3 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Noite',\n",
    "        'Onde você costuma estudar? ': 'Em casa (quarto, sala, etc.)',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Gravações de aula',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Não',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Raramente',\n",
    "                'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Interesse pessoal',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Barulhos externos',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Livros didáticos'\n",
    "    },\n",
    "    # Exemplo 10\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '1-2 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Manhã',\n",
    "        'Onde você costuma estudar? ': 'Café',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Resumos escritos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Ocasionalmente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Melhorar notas',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Mídias sociais',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Aulas online'\n",
    "    },\n",
    "    # Exemplo 11\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '4-5 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Tarde',\n",
    "        'Onde você costuma estudar? ': 'Biblioteca',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Leituras de livros e artigos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Frequentemente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Conseguir um emprego',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Redes sociais',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Simulações'\n",
    "    },\n",
    "    # Exemplo 12\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '3-4 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Manhã',\n",
    "        'Onde você costuma estudar? ': 'Em casa (quarto, sala, etc.)',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Aulas online',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Regularmente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Interesse pessoal',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Família',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Livros didáticos'\n",
    "    }\n",
    "]\n",
    "\n",
    "new_data_df = pd.DataFrame(new_data_list)\n",
    "for column in X.columns:\n",
    "    if column not in new_data_df.columns:\n",
    "        new_data_df[column] = 'UNKNOWN'\n",
    "for column in new_data_df.columns:\n",
    "    if column in label_encoders:\n",
    "        known_classes = label_encoders[column].classes_\n",
    "        new_data_df[column] = new_data_df[column].apply(lambda x: x if x in known_classes else 'UNKNOWN')\n",
    "        if 'UNKNOWN' not in known_classes:\n",
    "            label_encoders[column].classes_ = np.append(label_encoders[column].classes_, 'UNKNOWN')\n",
    "        new_data_df[column] = label_encoders[column].transform(new_data_df[column])\n",
    "\n",
    "predictions = model.predict(new_data_df)\n",
    "new_data_df['Previsão de eficácia dos métodos de estudo'] = predictions\n",
    "\n",
    "print(new_data_df)\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3fd849e9",
   "metadata": {
    "papermill": {
     "duration": 0.024177,
     "end_time": "2024-07-30T17:00:24.028955",
     "exception": false,
     "start_time": "2024-07-30T17:00:24.004778",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**7. Gerar Gráfico **\n",
    "\n",
    "**Assim geramos um gráfico que mostra a eficácia prevista para cada exemplo.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "5082c8ac",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T17:00:24.079606Z",
     "iopub.status.busy": "2024-07-30T17:00:24.078942Z",
     "iopub.status.idle": "2024-07-30T17:00:24.132706Z",
     "shell.execute_reply": "2024-07-30T17:00:24.131309Z"
    },
    "papermill": {
     "duration": 0.083683,
     "end_time": "2024-07-30T17:00:24.135618",
     "exception": false,
     "start_time": "2024-07-30T17:00:24.051935",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "O valor com maior eficiência para melhor horário para estudar foi \"Madrugada\" com uma eficácia de 29.39%.\n",
      "O valor com menor eficiência para melhor horário para estudar foi \"Tarde\" com uma eficácia de 22.25%.\n",
      "\n",
      "O valor com maior eficiência para métodos de estudo mais eficazes foi \"32\" com uma eficácia de 31.82%.\n",
      "O valor com menor eficiência para métodos de estudo mais eficazes foi \"9\" com uma eficácia de 16.59%.\n",
      "\n",
      "O valor com maior eficiência para frequência das pausas durante o estudo foi \"Raramente\" com uma eficácia de 28.19%.\n",
      "O valor com menor eficiência para frequência das pausas durante o estudo foi \"18\" com uma eficácia de 25.67%.\n",
      "\n",
      "O valor com maior eficiência para melhor lugar para estudar foi \"Em casa\" com uma eficácia de 28.76%.\n",
      "O valor com menor eficiência para melhor lugar para estudar foi \"6\" com uma eficácia de 20.63%.\n",
      "\n",
      "O valor com maior eficiência para quantas horas de estudo por dia são mais eficazes foi \"Menos de 1 hora\" com uma eficácia de 28.70%.\n",
      "O valor com menor eficiência para quantas horas de estudo por dia são mais eficazes foi \"Mais de 5 horas\" com uma eficácia de 21.92%.\n",
      "\n",
      "O valor com maior eficiência para o que motiva os estudantes a serem mais eficazes foi \"23\" com uma eficácia de 25.88%.\n",
      "O valor com menor eficiência para o que motiva os estudantes a serem mais eficazes foi \"23\" com uma eficácia de 25.88%.\n",
      "\n",
      "O valor com maior eficiência para distrações mais comuns durante o estudo foi \"Barulhos externos\" com uma eficácia de 37.76%.\n",
      "O valor com menor eficiência para distrações mais comuns durante o estudo foi \"18\" com uma eficácia de 23.44%.\n",
      "\n",
      "O valor com maior eficiência para ferramentas de estudo mais eficazes foi \"19\" com uma eficácia de 28.19%.\n",
      "O valor com menor eficiência para ferramentas de estudo mais eficazes foi \"22\" com uma eficácia de 25.67%.\n",
      "\n"
     ]
    }
   ],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "\n",
    "# Converter as previsões para porcentagem\n",
    "new_data_df['Previsão de eficácia dos métodos de estudo (%)'] = new_data_df['Previsão de eficácia dos métodos de estudo'] * 10\n",
    "\n",
    "# Função para calcular e imprimir os resultados das médias de eficácia\n",
    "def print_grouped_efficiency(data, group_by_col, title):\n",
    "    grouped_data = data.groupby(group_by_col)['Previsão de eficácia dos métodos de estudo (%)'].mean()\n",
    "    grouped_data.index = grouped_data.index.astype(str)  # Garantir que os índices sejam strings\n",
    "    max_value = grouped_data.max()\n",
    "    min_value = grouped_data.min()\n",
    "    max_index = grouped_data.idxmax()\n",
    "    min_index = grouped_data.idxmin()\n",
    "    \n",
    "    print(f'O valor com maior eficiência para {title.lower()} foi \"{max_index}\" com uma eficácia de {max_value:.2f}%.')\n",
    "    print(f'O valor com menor eficiência para {title.lower()} foi \"{min_index}\" com uma eficácia de {min_value:.2f}%.\\n')\n",
    "\n",
    "# Substituir índices por descrições\n",
    "new_data_df['Em que horário do dia você prefere estudar? '] = new_data_df['Em que horário do dia você prefere estudar? '].replace({\n",
    "    0: 'Manhã', 1: 'Tarde', 2: 'Noite', 3: 'Madrugada'\n",
    "})\n",
    "new_data_df['Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) '] = new_data_df['Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) '].replace({\n",
    "    0: 'Leituras de livros e artigos', 1: 'Anotações e resumos', 2: 'Aulas online', 3: 'Gravações de aula', 4: 'Simulações'\n",
    "})\n",
    "new_data_df['Se sim, com que frequência você faz pausas? '] = new_data_df['Se sim, com que frequência você faz pausas? '].replace({\n",
    "    0: 'Raramente', 1: 'Ocasionalmente', 2: 'Frequentemente', 3: 'Sempre'\n",
    "})\n",
    "new_data_df['Onde você costuma estudar? '] = new_data_df['Onde você costuma estudar? '].replace({\n",
    "    0: 'Em casa', 1: 'Biblioteca', 2: 'Café'\n",
    "})\n",
    "new_data_df['Quantas horas por dia você dedica aos estudos?'] = new_data_df['Quantas horas por dia você dedica aos estudos?'].replace({\n",
    "    0: 'Menos de 1 hora', 1: '1-2 horas', 2: '2-3 horas', 3: '3-4 horas', 4: '4-5 horas', 5: 'Mais de 5 horas'\n",
    "})\n",
    "new_data_df['O que mais motiva você a estudar? (Marque todas as opções que se aplicam) '] = new_data_df['O que mais motiva você a estudar? (Marque todas as opções que se aplicam) '].replace({\n",
    "    0: 'Melhorar notas', 1: 'Conseguir um emprego', 2: 'Interesse pessoal', 3: 'Paixão pela matéria'\n",
    "})\n",
    "new_data_df['O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) '] = new_data_df['O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) '].replace({\n",
    "    0: 'Barulhos externos', 1: 'Família', 2: 'Internet', 3: 'Redes sociais', 4: 'Mídias sociais'\n",
    "})\n",
    "new_data_df['Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) '] = new_data_df['Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) '].replace({\n",
    "    0: 'Sites educacionais', 1: 'Vídeos educativos (YouTube, etc.)', 2: 'Livros didáticos', 3: 'Simulações', 4: 'Aulas online'\n",
    "})\n",
    "\n",
    "# Imprimir os resultados\n",
    "print_grouped_efficiency(new_data_df, 'Em que horário do dia você prefere estudar? ', 'Melhor horário para estudar')\n",
    "print_grouped_efficiency(new_data_df, 'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ', 'Métodos de estudo mais eficazes')\n",
    "print_grouped_efficiency(new_data_df, 'Se sim, com que frequência você faz pausas? ', 'Frequência das pausas durante o estudo')\n",
    "print_grouped_efficiency(new_data_df, 'Onde você costuma estudar? ', 'Melhor lugar para estudar')\n",
    "print_grouped_efficiency(new_data_df, 'Quantas horas por dia você dedica aos estudos?', 'Quantas horas de estudo por dia são mais eficazes')\n",
    "print_grouped_efficiency(new_data_df, 'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ', 'O que motiva os estudantes a serem mais eficazes')\n",
    "print_grouped_efficiency(new_data_df, 'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ', 'Distrações mais comuns durante o estudo')\n",
    "print_grouped_efficiency(new_data_df, 'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ', 'Ferramentas de estudo mais eficazes')\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "fb1eae4e",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2024-07-30T17:00:24.186049Z",
     "iopub.status.busy": "2024-07-30T17:00:24.185600Z",
     "iopub.status.idle": "2024-07-30T17:00:24.415581Z",
     "shell.execute_reply": "2024-07-30T17:00:24.413647Z"
    },
    "papermill": {
     "duration": 0.260182,
     "end_time": "2024-07-30T17:00:24.419740",
     "exception": false,
     "start_time": "2024-07-30T17:00:24.159558",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\u001b[1m1/1\u001b[0m \u001b[32m━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[37m\u001b[0m \u001b[1m0s\u001b[0m 60ms/step\n",
      "O valor com maior eficiência para melhor horário para estudar foi \"Tarde\" com uma eficácia de 30.71%.\n",
      "O valor com menor eficiência para melhor horário para estudar foi \"Manhã\" com uma eficácia de 28.19%.\n",
      "\n",
      "O valor com maior eficiência para métodos de estudo mais eficazes foi \"Leituras de livros e artigos\" com uma eficácia de 30.71%.\n",
      "O valor com menor eficiência para métodos de estudo mais eficazes foi \"UNKNOWN\" com uma eficácia de 28.19%.\n",
      "\n",
      "O valor com maior eficiência para frequência das pausas durante o estudo foi \"UNKNOWN\" com uma eficácia de 30.71%.\n",
      "O valor com menor eficiência para frequência das pausas durante o estudo foi \"\" com uma eficácia de 28.19%.\n",
      "\n",
      "O valor com maior eficiência para melhor lugar para estudar foi \"Em casa (quarto, sala, etc.)\" com uma eficácia de 30.71%.\n",
      "O valor com menor eficiência para melhor lugar para estudar foi \"Biblioteca\" com uma eficácia de 28.19%.\n",
      "\n",
      "O valor com maior eficiência para quantas horas de estudo por dia são mais eficazes foi \"3-4 horas\" com uma eficácia de 30.71%.\n",
      "O valor com menor eficiência para quantas horas de estudo por dia são mais eficazes foi \"Menos de 1 hora\" com uma eficácia de 28.19%.\n",
      "\n",
      "O valor com maior eficiência para o que motiva os estudantes a serem mais eficazes foi \"UNKNOWN\" com uma eficácia de 29.45%.\n",
      "O valor com menor eficiência para o que motiva os estudantes a serem mais eficazes foi \"UNKNOWN\" com uma eficácia de 29.45%.\n",
      "\n",
      "O valor com maior eficiência para distrações mais comuns durante o estudo foi \"Barulhos externos\" com uma eficácia de 30.71%.\n",
      "O valor com menor eficiência para distrações mais comuns durante o estudo foi \"UNKNOWN\" com uma eficácia de 28.19%.\n",
      "\n",
      "O valor com maior eficiência para ferramentas de estudo mais eficazes foi \"UNKNOWN\" com uma eficácia de 30.71%.\n",
      "O valor com menor eficiência para ferramentas de estudo mais eficazes foi \"Vídeos educativos (YouTube, etc.)\" com uma eficácia de 28.19%.\n",
      "\n"
     ]
    }
   ],
   "source": [
    "# Carregar os codificadores e o modelo treinado\n",
    "with open('label_encoders.pkl', 'rb') as f:\n",
    "    label_encoders = pickle.load(f)\n",
    "\n",
    "custom_objects = {'mean_squared_error': tf.keras.losses.MeanSquaredError(), 'mse': tf.keras.losses.MeanSquaredError()}\n",
    "model = tf.keras.models.load_model('study_habits_model.h5', custom_objects=custom_objects)\n",
    "\n",
    "# Exemplo de novas perguntas (12 exemplos)\n",
    "new_data_list = [\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': '3-4 horas',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Tarde',\n",
    "        'Onde você costuma estudar? ': 'Em casa (quarto, sala, etc.)',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Leituras de livros e artigos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Sim',\n",
    "        'Se sim, com que frequência você faz pausas? ': 'Ocasionalmente',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Melhorar notas',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Barulhos externos',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Sites educacionais'\n",
    "    },\n",
    "    {\n",
    "        'Quantas horas por dia você dedica aos estudos?': 'Menos de 1 hora',\n",
    "        'Em que horário do dia você prefere estudar? ': 'Manhã',\n",
    "        'Onde você costuma estudar? ': 'Biblioteca',\n",
    "        'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ': 'Anotações e resumos',\n",
    "        'Você costuma fazer pausas durante seus períodos de estudo?': 'Não',\n",
    "        'Se sim, com que frequência você faz pausas? ': '',\n",
    "        'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ': 'Conseguir um emprego',\n",
    "        'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ': 'Família',\n",
    "        'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ': 'Vídeos educativos (YouTube, etc.)'\n",
    "    },\n",
    "    # ... adicione os outros exemplos aqui ...\n",
    "]\n",
    "\n",
    "new_data_df = pd.DataFrame(new_data_list)\n",
    "for column in X.columns:\n",
    "    if column not in new_data_df.columns:\n",
    "        new_data_df[column] = 'UNKNOWN'\n",
    "for column in new_data_df.columns:\n",
    "    if column in label_encoders:\n",
    "        known_classes = label_encoders[column].classes_\n",
    "        new_data_df[column] = new_data_df[column].apply(lambda x: x if x in known_classes else 'UNKNOWN')\n",
    "        if 'UNKNOWN' not in known_classes:\n",
    "            label_encoders[column].classes_ = np.append(label_encoders[column].classes_, 'UNKNOWN')\n",
    "        new_data_df[column] = label_encoders[column].transform(new_data_df[column])\n",
    "\n",
    "predictions = model.predict(new_data_df)\n",
    "new_data_df['Previsão de eficácia dos métodos de estudo'] = predictions\n",
    "\n",
    "# Decodificar as respostas\n",
    "for column in new_data_df.columns:\n",
    "    if column in label_encoders:\n",
    "        new_data_df[column] = label_encoders[column].inverse_transform(new_data_df[column])\n",
    "\n",
    "# Converter as previsões para porcentagem\n",
    "new_data_df['Previsão de eficácia dos métodos de estudo (%)'] = new_data_df['Previsão de eficácia dos métodos de estudo'] * 10\n",
    "\n",
    "# Função para imprimir os resultados\n",
    "def print_grouped_results(data, group_by_col, title):\n",
    "    grouped_data = data.groupby(group_by_col)['Previsão de eficácia dos métodos de estudo (%)'].mean()\n",
    "    max_value = grouped_data.max()\n",
    "    min_value = grouped_data.min()\n",
    "    max_index = grouped_data.idxmax()\n",
    "    min_index = grouped_data.idxmin()\n",
    "    \n",
    "    print(f'O valor com maior eficiência para {title.lower()} foi \"{max_index}\" com uma eficácia de {max_value:.2f}%.')\n",
    "    print(f'O valor com menor eficiência para {title.lower()} foi \"{min_index}\" com uma eficácia de {min_value:.2f}%.\\n')\n",
    "\n",
    "# Imprimir resultados\n",
    "print_grouped_results(new_data_df, 'Em que horário do dia você prefere estudar? ', 'melhor horário para estudar')\n",
    "print_grouped_results(new_data_df, 'Quais métodos de estudo você utiliza com mais frequência? (Marque todas as opções que se aplicam) ', 'métodos de estudo mais eficazes')\n",
    "print_grouped_results(new_data_df, 'Se sim, com que frequência você faz pausas? ', 'frequência das pausas durante o estudo')\n",
    "print_grouped_results(new_data_df, 'Onde você costuma estudar? ', 'melhor lugar para estudar')\n",
    "print_grouped_results(new_data_df, 'Quantas horas por dia você dedica aos estudos?', 'quantas horas de estudo por dia são mais eficazes')\n",
    "print_grouped_results(new_data_df, 'O que mais motiva você a estudar? (Marque todas as opções que se aplicam) ', 'o que motiva os estudantes a serem mais eficazes')\n",
    "print_grouped_results(new_data_df, 'O que mais distrai você durante os estudos? (Marque todas as opções que se aplicam) ', 'distrações mais comuns durante o estudo')\n",
    "print_grouped_results(new_data_df, 'Quais ferramentas você usa para estudar? (Marque todas as opções que se aplicam) ', 'ferramentas de estudo mais eficazes')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "91fad562",
   "metadata": {
    "papermill": {
     "duration": 0.022924,
     "end_time": "2024-07-30T17:00:24.468935",
     "exception": false,
     "start_time": "2024-07-30T17:00:24.446011",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "**O valor com maior eficiência foi o Exemplo 9 com uma eficácia de 37.75%.**\n",
    "\n",
    "**O valor com menor eficiência foi o Exemplo 3 com uma eficácia de 15.93%.**\n",
    "\n",
    "1. Qual é o melhor horário para estudar?\n",
    "\n",
    "Análise: A eficácia variou com base no horário de estudo.\n",
    "Resposta: O horário da tarde parece ser moderadamente eficaz, enquanto o estudo pela manhã ou à noite mostrou eficácia \n",
    "variável.\n",
    "\n",
    "2. Quais métodos de estudo são mais eficazes?\n",
    "Análise: Métodos como leituras de livros e artigos, resumos escritos, aulas online e gravações de aula foram analisados.\n",
    "Resposta: Métodos de estudo como leituras de livros e artigos e resumos escritos mostraram uma eficácia moderada. Aulas online e gravações de aula tiveram uma eficácia menor em alguns exemplos.\n",
    "\n",
    "3. Com que frequência as pausas durante o estudo são mais benéficas?\n",
    "Análise: A eficácia foi comparada entre pausas frequentes, ocasionais e a ausência de pausas.\n",
    "Resposta: Fazer pausas ocasionais ou regulares tende a ser mais benéfico do que raramente fazer pausas.\n",
    "\n",
    "4. Onde é o melhor lugar para estudar?\n",
    "Análise: Os locais de estudo incluíram casa, biblioteca e café.\n",
    "Resposta: Estudar em casa e na biblioteca mostrou ser moderadamente eficaz, enquanto estudar em um café teve eficácia variável.\n",
    "\n",
    "5. Quantas horas de estudo por dia são mais eficazes?\n",
    "Análise: A eficácia foi comparada entre diferentes durações diárias de estudo.\n",
    "Resposta: Estudar entre 1-4 horas por dia mostrou-se moderadamente eficaz. Estudar mais de 4 horas por dia não necessariamente aumenta a eficácia.\n",
    "\n",
    "6. O que motiva os estudantes a serem mais eficazes?\n",
    "Análise: Motivadores incluíram melhorar notas, conseguir um emprego, paixão pela matéria e interesse pessoal.\n",
    "Resposta: Motivações como melhorar notas e paixão pela matéria mostraram-se comuns em exemplos moderadamente eficazes.\n",
    "\n",
    "7. Quais são as distrações mais comuns durante o estudo?\n",
    "Análise: Distrações incluíram barulhos externos, internet, redes sociais e família.\n",
    "Resposta: Distrações como barulhos externos e internet foram comuns, e minimizar essas distrações pode ajudar a aumentar a eficácia.\n",
    "\n",
    "8. Quais ferramentas de estudo são mais eficazes?\n",
    "Análise: Ferramentas de estudo incluíram sites educacionais, vídeos educativos, livros didáticos e simulações.\n",
    "Resposta: Ferramentas como sites educacionais e livros didáticos mostraram uma eficácia moderada.\n",
    "\n",
    "**Resultados das Previsões de Eficácia dos Métodos de Estudo:**\n",
    "\n",
    "Exemplo 1: Previsão de eficácia = 32.43%\n",
    "\n",
    "Exemplo 2: Previsão de eficácia = 29.15%\n",
    "\n",
    "Exemplo 3: Previsão de eficácia = 15.93%\n",
    "\n",
    "Exemplo 4: Previsão de eficácia = 37.35%\n",
    "\n",
    "Exemplo 5: Previsão de eficácia = 19.25%\n",
    "\n",
    "Exemplo 6: Previsão de eficácia = 29.34%\n",
    "\n",
    "Exemplo 7: Previsão de eficácia = 21.17%\n",
    "\n",
    "Exemplo 8: Previsão de eficácia = 30.53%\n",
    "\n",
    "Exemplo 9: Previsão de eficácia = 37.75%\n",
    "\n",
    "Exemplo 10: Previsão de eficácia = 29.07%\n",
    "\n",
    "Exemplo 11: Previsão de eficácia = 24.68%\n",
    "\n",
    "Exemplo 12: Previsão de eficácia = 19.23%\n",
    "\n",
    "**Explicação dos Resultados:**\n",
    "\n",
    "1. Exemplo 1: A previsão de eficácia foi 32.43000030517578%. Isso sugere que estudar 3-4 horas por dia à tarde em casa com leituras de livros e artigos, fazendo pausas ocasionais, é percebido como moderadamente eficaz.\n",
    "\n",
    "2. Exemplo 2: A previsão de eficácia foi 29.149999618530273%. Isso indica que estudar menos de 1 hora por dia de manhã na biblioteca, sem fazer pausas, pode ser moderadamente eficaz.\n",
    "\n",
    "3. Exemplo 3: A previsão de eficácia foi 15.930000305175781%. Isso significa que estudar 2-3 horas por dia à noite em um café com aulas online e fazendo pausas frequentes pode ser menos eficaz.\n",
    "\n",
    "4. Exemplo 4: A previsão de eficácia foi 37.349998474121094%. Isso implica que estudar 1-2 horas por dia à tarde na biblioteca, raramente fazendo pausas, pode ser bastante eficaz.\n",
    "\n",
    "5. Exemplo 5: A previsão de eficácia foi 19.25%. Isso mostra que estudar 4-5 horas por dia de manhã em casa com leituras de livros e artigos e fazendo pausas regularmente pode ser menos eficaz.\n",
    "\n",
    "6. Exemplo 6: A previsão de eficácia foi 29.34000015258789%. Isso sugere que estudar 1-2 horas por dia à noite em um café com resumos escritos e fazendo pausas ocasionais é percebido como moderadamente eficaz.\n",
    "\n",
    "7. Exemplo 7: A previsão de eficácia foi 21.170000076293945%. Isso indica que estudar 2-3 horas por dia de manhã em casa com aulas online e fazendo pausas frequentes pode não ser muito eficaz.\n",
    "\n",
    "8. Exemplo 8: A previsão de eficácia foi 30.530000686645508%. Isso sugere que estudar 3-4 horas por dia à tarde na biblioteca com leituras de livros e artigos e fazendo pausas regularmente é percebido como moderadamente eficaz.\n",
    "\n",
    "9. Exemplo 9: A previsão de eficácia foi 37.75%. Isso sugere que estudar 2-3 horas por dia à noite em casa com gravações de aula e raramente fazendo pausas pode ser bastante eficaz.\n",
    "\n",
    "10. Exemplo 10: A previsão de eficácia foi 29.06999969482422%. Isso sugere que estudar 1-2 horas por dia de manhã em um café com resumos escritos e fazendo pausas ocasionais é percebido como moderadamente eficaz.\n",
    "\n",
    "11. Exemplo 11: A previsão de eficácia foi 24.68000030517578%. Isso mostra que estudar 4-5 horas por dia à tarde na biblioteca com leituras de livros e artigos e fazendo pausas frequentes pode ser moderadamente eficaz.\n",
    "\n",
    "12. Exemplo 12: A previsão de eficácia foi 19.229999542236328%. Isso sugere que estudar 3-4 horas por dia de manhã em casa com aulas online e fazendo pausas regularmente pode não ser muito eficaz.\n",
    "\n",
    "**O valor com maior eficiência foi o Exemplo 9 com uma eficácia de 37.75%.**\n",
    "\n",
    "**O valor com menor eficiência foi o Exemplo 3 com uma eficácia de 15.93%.**\n"
   ]
  }
 ],
 "metadata": {
  "kaggle": {
   "accelerator": "none",
   "dataSources": [
    {
     "datasetId": 5464208,
     "sourceId": 9060926,
     "sourceType": "datasetVersion"
    }
   ],
   "dockerImageVersionId": 30746,
   "isGpuEnabled": false,
   "isInternetEnabled": true,
   "language": "python",
   "sourceType": "notebook"
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.13"
  },
  "papermill": {
   "default_parameters": {},
   "duration": 36.836225,
   "end_time": "2024-07-30T17:00:27.160928",
   "environment_variables": {},
   "exception": null,
   "input_path": "__notebook__.ipynb",
   "output_path": "__notebook__.ipynb",
   "parameters": {},
   "start_time": "2024-07-30T16:59:50.324703",
   "version": "2.5.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
